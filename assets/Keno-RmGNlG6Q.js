import{j as e}from"./ui-vendor-Bc99nQtl.js";import{r as t}from"./react-vendor-Ch25s-yZ.js";import{X as n}from"./index-B2DHDYMo.js";import{u as s,a,G as o,k as r,b as i,c,d as l,e as u}from"./gameDataService-DfUuM3Jh.js";import"./utils-CrFdsnXa.js";import"./state-D1Gwop_u.js";import"./Header-DS1uXYLg.js";const d=48,h=({onClose:s})=>{const[a,o]=t.useState({x:20,y:100}),[r,i]=t.useState(!1),[c,l]=t.useState({x:0,y:0}),u=t.useRef(null),h=t.useRef(!1),[m,x]=t.useState({x:0,y:0});return e.jsxs("div",{ref:u,className:"fixed z-[60] h-12 w-12 transition-all duration-300",style:{left:a.x,top:a.y,touchAction:"none",transform:r?"scale(1.1)":"scale(1)"},onTouchStart:e=>{if(!u.current)return;const t=u.current.getBoundingClientRect(),n=e.touches[0];l({x:n.clientX-t.left,y:n.clientY-t.top}),x({x:n.clientX,y:n.clientY}),i(!1),e.preventDefault()},onTouchMove:e=>{if(!u.current)return;const t=e.touches[0],n=t.clientX-m.x,s=t.clientY-m.y,a=Math.hypot(n,s)>8;if(!r&&a&&(i(!0),h.current=!0),!r&&!a)return void e.preventDefault();const l=t.clientX-c.x,x=t.clientY-c.y,p=window.innerWidth-d,f=window.innerHeight-d;o({x:Math.max(0,Math.min(l,p)),y:Math.max(0,Math.min(x,f))}),e.preventDefault()},onTouchEnd:()=>{if(!r)return;const e=window.innerWidth,t=window.innerHeight;let n=a.x,s=a.y;const c=a.x,l=e-a.x-d,u=a.y,m=t-a.y-d,x=Math.min(c,l,u,m);x===c?n=10:x===l?n=e-d-10:s=x===u?50:t-d-50,o({x:n,y:s}),i(!1),window.setTimeout(()=>{h.current=!1},300)},children:[e.jsx("button",{onClick:e=>{if(r||h.current)return e.preventDefault(),void e.stopPropagation();(e=>{e.stopPropagation(),s()})(e)},className:`flex h-12 w-12 cursor-move items-center justify-center rounded-full border border-white/30 bg-black/80 backdrop-blur-md transition-all duration-300 ${r?"bg-black/90 shadow-2xl":"shadow-lg"} hover:bg-black/90 active:bg-black/95`,children:e.jsx(n,{className:"h-5 w-5 text-white",strokeWidth:2})}),r&&e.jsx("div",{className:"pointer-events-none absolute -inset-2 animate-pulse rounded-full border-2 border-white/40"})]})},m=()=>{const t=s("keno"),{selectedDevice:n,setSelectedDevice:d,isModalOpen:m,activeScreenshot:x,setActiveScreenshot:p,handleDeviceModalOpen:f,handleModalClose:v}=a({gameData:r});return e.jsxs(o,{gameData:r,children:[e.jsx(i,{gameData:r,description:t.description,technicalFeatures:t.technicalFeatures}),e.jsx(c,{features:t.features}),e.jsx(l,{selectedDevice:n,onDeviceChange:d,onDeviceModalOpen:f,gameData:r}),e.jsx(u,{isOpen:m,onClose:v,title:r.title,screenshots:r.screenshots?.[n]||[],activeScreenshot:x,onScreenshotChange:p}),e.jsx(h,{})]})};export{m as default};
